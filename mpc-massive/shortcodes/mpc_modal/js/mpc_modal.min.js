!function(a){"use strict";function b(a,b){a.addClass("mpc-visible"),i?b.addClass("mpc-block-scroll-bridge"):b.addClass("mpc-block-scroll"),d(!0)}function c(a){var b=a.find(".mpc-modal__close");if(!a.is(".mpc-close--outside"))return!1;_mpc_vars.breakpoints.custom("(max-width: 768px)")?b.prependTo(a.find(".mpc-modal")):b.prependTo(a)}function d(a){!0===a?h[0].addEventListener("touchmove",j,!1):h[0].removeEventListener("touchmove",j,!1)}function e(d){var e=d.find(".mpc-modal"),f=d.closest(".mpc-row"),g=a('.mpc-modal-waypoint[data-id="'+d.attr("id")+'"]'),i=parseInt(d.attr("data-delay")),j=d.attr("data-frequency");f.addClass("mpc-row-modal"),i=isNaN(i)?0:i,void 0!=j&&"onclick"!=j&&a.post(_mpc_vars.ajax_url,{action:"mpc_set_modal_cookie",id:d.attr("id"),frequency:j}),"onclick"==j?d.attr("data-target-id")&&a('a[href="#'+d.attr("data-target-id")+'"]').on("click",function(a){a.preventDefault(),e.trigger("mpc.animation"),b(d,h)}):g.length?g.is(".mpc-waypoint--init")?(e.trigger("mpc.animation"),b(d,h)):g.on("mpc.waypoint",function(){e.trigger("mpc.animation"),b(d,h)}):i>0?setTimeout(function(){e.trigger("mpc.animation"),b(d,h)},1e3*i):e.trigger("mpc.animation"),c(d)}var f=a(".mpc-modal-overlay"),g=a(".mpc-modal__close"),h=a("html, body"),i=h.hasClass("qode-theme-bridge"),j=function(a){a.preventDefault()};f.each(function(){var b=a(this);b.find(".mpc-modal").one("mpc.init",function(){e(b)})}),_mpc_vars.$window.on("mpc.resize",function(){a.each(f,function(){c(a(this))})}),f.on("click",function(b){if(b.target==this){var c=a(this);(c.is(".mpc-close-on-click")||_mpc_vars.breakpoints.custom("(max-width: 768px)"))&&c.find(".mpc-modal__close").trigger("click")}}),g.on("click",function(){a(this).closest(".mpc-modal-overlay").removeClass("mpc-visible"),0==f.filter(".mpc-visible").length&&(i?h.removeClass("mpc-block-scroll-bridge"):h.removeClass("mpc-block-scroll"),d(!1))})}(jQuery);